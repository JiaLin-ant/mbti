<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free online MBTI personality test with 40 professional questions to accurately analyze your 16 personality types. Discover if you're an Analyst, Diplomat, Sentinel, or Explorer, and find the most suitable career path and love match.">
    <meta name="keywords" content="MBTI test,16 personality types,personality test,career personality test,MBTI English test,free personality test,online psychological test,career planning,personality analysis,character analysis,psychological assessment,love match,personality matching">
    <title>MBTI Personality Test | Free Online 16 Personality Types Test | With Love Match Feature</title>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://mbtitests.com/">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mbtitests.com/">
    <meta property="og:title" content="MBTI Personality Test - Free Online Test to Analyze Your 16 Personality Types">
    <meta property="og:description" content="Through professional MBTI personality test, understand your personality traits. Complete the test for free and discover the most suitable career path.">
    <meta property="og:image" content="https://mbtitests.com/images/mbti-share.jpg">
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "MBTI Personality Test",
        "description": "Free online MBTI personality test to help you understand your personality traits and career direction",
        "url": "https://mbtitests.com",
        "applicationCategory": "PersonalityTest",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
        },
        "creator": {
            "@type": "Organization",
            "name": "Psychological Assessment",
            "url": "https://mbtitests.com"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250",
            "bestRating": "5",
            "worstRating": "1"
        }
    }
    </script>
    
    <!-- Breadcrumb Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://mbtitests.com"
        },{
            "@type": "ListItem",
            "position": 2,
            "name": "MBTI Personality Test",
            "item": "https://mbtitests.com"
        }]
    }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans:wght@100..900&display=swap');
        * {
            font-family: 'Noto Sans', sans-serif;
            scroll-behavior: smooth;
        }
    </style>
</head>
<body class="bg-white min-h-screen">
    <!-- Skip to main content link for accessibility -->
    <a href="#main-content" class="sr-only focus:not-sr-only">
        Skip to main content
    </a>
    
    <!-- Main Content -->
    <main class="flex-1" id="main-content">
        <!-- Header -->
        <header class="fixed w-full bg-white/90 backdrop-blur-sm z-50 shadow-sm" role="banner">
            <nav class="container mx-auto px-6 py-4" role="navigation" aria-label="Main navigation">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <a href="/" class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600" aria-label="Return to home page">
                            Psychological Assessment
                        </a>
                    </div>
                    <div class="flex items-center space-x-8">
                        <div class="hidden md:flex items-center space-x-8">
                            <a href="/" class="text-gray-600 hover:text-blue-600 font-medium transition border-b-2 border-blue-600" aria-current="page">
                                MBTI Test
                            </a>
                            <a href="/love-match/en/" id="navLoveMatchLink" class="text-gray-600 hover:text-blue-600 font-medium transition border-b-2 border-transparent hover:border-blue-600">
                                Love Match
                            </a>
                        </div>
                        <!-- Language Switcher -->
                        <a href="/chinese/" class="flex items-center text-gray-600 hover:text-blue-600">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 10.77 8.07 15.61 3 18.129" />
                            </svg>
                            中文
                        </a>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="pt-20 bg-white" role="main">
            <!-- Hero Section -->
            <section class="py-12 px-6 bg-gradient-to-b from-blue-50 to-white" aria-labelledby="hero-title">
                <div class="container mx-auto text-center">
                    <h1 id="hero-title" class="text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-transparent bg-clip-text">
                        Explore Your Personality Type
                    </h1>
                    <p class="text-lg md:text-xl text-gray-600 mb-8 max-w-3xl mx-auto" aria-describedby="hero-title">
                        Discover your true self through the scientific MBTI test and understand your personality traits
                    </p>
                    <div class="flex flex-col sm:flex-row justify-center gap-4">
                        <button id="startTest" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg text-base font-semibold hover:opacity-90 transition shadow-md hover:shadow-lg" aria-label="Start MBTI personality test">
                            Start Test
                        </button>
                        <a href="/love-match/en/" id="heroLoveMatchLink" class="bg-gradient-to-r from-pink-500 to-rose-600 text-white px-6 py-3 rounded-lg text-base font-semibold hover:opacity-90 transition shadow-md hover:shadow-lg inline-flex items-center justify-center" aria-label="Go to love match test">
                            Love Match Test
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                            </svg>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Personality Types Grid -->
            <section class="py-8 px-6" aria-labelledby="personality-types-title">
                <h2 id="personality-types-title" class="sr-only">MBTI 16 Personality Types</h2>
                <div class="container mx-auto">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <!-- Analysts -->
                        <div class="bg-blue-50 p-6 rounded-2xl shadow-sm border border-blue-100" role="region" aria-labelledby="analyst-title">
                            <h3 id="analyst-title" class="text-xl font-semibold text-blue-800 mb-4 text-center">Analysts</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showTypeDetail('INTJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200" aria-label="View INTJ Architect personality details">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">INTJ</h4>
                                            <p class="text-blue-600 text-sm mt-1">Architect</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('INTP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">INTP</h4>
                                            <p class="text-blue-600 text-sm mt-1">Logician</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ENTJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">ENTJ</h4>
                                            <p class="text-blue-600 text-sm mt-1">Commander</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ENTP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">ENTP</h4>
                                            <p class="text-blue-600 text-sm mt-1">Debater</p>
                                        </div>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <!-- Diplomats -->
                        <div class="bg-green-50 p-6 rounded-2xl shadow-sm border border-green-100" role="region" aria-labelledby="diplomat-title">
                            <h3 id="diplomat-title" class="text-xl font-semibold text-green-800 mb-4 text-center">Diplomats</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showTypeDetail('INFJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">INFJ</h4>
                                            <p class="text-green-600 text-sm mt-1">Advocate</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('INFP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">INFP</h4>
                                            <p class="text-green-600 text-sm mt-1">Mediator</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ENFJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">ENFJ</h4>
                                            <p class="text-green-600 text-sm mt-1">Protagonist</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ENFP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">ENFP</h4>
                                            <p class="text-green-600 text-sm mt-1">Campaigner</p>
                                        </div>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <!-- Sentinels -->
                        <div class="bg-yellow-50 p-6 rounded-2xl shadow-sm border border-yellow-100" role="region" aria-labelledby="sentinel-title">
                            <h3 id="sentinel-title" class="text-xl font-semibold text-yellow-800 mb-4 text-center">Sentinels</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showTypeDetail('ISTJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-yellow-50 transition border border-yellow-100 hover:border-yellow-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-yellow-900">ISTJ</h4>
                                            <p class="text-yellow-600 text-sm mt-1">Logistician</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ISFJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-yellow-50 transition border border-yellow-100 hover:border-yellow-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-yellow-900">ISFJ</h4>
                                            <p class="text-yellow-600 text-sm mt-1">Defender</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ESTJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-yellow-50 transition border border-yellow-100 hover:border-yellow-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-yellow-900">ESTJ</h4>
                                            <p class="text-yellow-600 text-sm mt-1">Executive</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ESFJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-yellow-50 transition border border-yellow-100 hover:border-yellow-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-yellow-900">ESFJ</h4>
                                            <p class="text-yellow-600 text-sm mt-1">Consul</p>
                                        </div>
                                    </div>
                                </button>
                            </div>
                        </div>

                        <!-- Explorers -->
                        <div class="bg-orange-50 p-6 rounded-2xl shadow-sm border border-orange-100" role="region" aria-labelledby="explorer-title">
                            <h3 id="explorer-title" class="text-xl font-semibold text-orange-800 mb-4 text-center">Explorers</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showTypeDetail('ISTP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-orange-50 transition border border-orange-100 hover:border-orange-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-orange-900">ISTP</h4>
                                            <p class="text-orange-600 text-sm mt-1">Virtuoso</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ISFP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-orange-50 transition border border-orange-100 hover:border-orange-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-orange-900">ISFP</h4>
                                            <p class="text-orange-600 text-sm mt-1">Adventurer</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ESTP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-orange-50 transition border border-orange-100 hover:border-orange-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-orange-900">ESTP</h4>
                                            <p class="text-orange-600 text-sm mt-1">Entrepreneur</p>
                                        </div>
                                    </div>
                                </button>
                                <button onclick="showTypeDetail('ESFP')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-orange-50 transition border border-orange-100 hover:border-orange-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-orange-900">ESFP</h4>
                                            <p class="text-orange-600 text-sm mt-1">Entertainer</p>
                                        </div>
                                    </div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Love Match Test Recommendation -->
            <div class="text-center py-8">
              <h3 class="text-2xl font-semibold text-gray-800 mb-4">Want to know which personality type matches you best?</h3>
              <p class="text-gray-600 mb-6 max-w-2xl mx-auto">
                Each MBTI type has ideal love matches. Through our love match test, discover your ideal partner type and learn how to build a harmonious relationship.
              </p>
              <a href="/love-match/en/" class="text-pink-600 hover:text-pink-800 font-medium text-lg inline-flex items-center">
                Go to Love Match Test
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </a>
            </div>

            <!-- Test Container -->
            <div id="testContainer" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden" role="dialog" aria-labelledby="test-title" aria-modal="true">
                <div class="bg-white p-8 rounded-2xl max-w-3xl w-full mx-4 shadow-xl" style="margin-top: -10vh;">
                    <div class="flex justify-between items-center mb-6">
                        <h3 id="test-title" class="text-2xl font-bold text-gray-800">Question <span id="questionNumber">1</span>/40</h3>
                        <button onclick="closeTest()" class="text-gray-400 hover:text-gray-600 transition" aria-label="Close test">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mb-8">
                        <p id="questionText" class="text-xl text-gray-800 mb-6" role="heading" aria-level="4">In social situations, you typically:</p>
                        <div class="space-y-4" role="radiogroup" aria-labelledby="questionText">
                            <button class="answer-btn w-full text-left p-4 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-700 transition" role="radio" aria-checked="false">
                                Tend to interact widely with others and make new friends
                            </button>
                            <button class="answer-btn w-full text-left p-4 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-700 transition" role="radio" aria-checked="false">
                                Tend to have deep conversations with a few familiar people
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prevQuestion" onclick="navigateQuestion(-1)" class="px-6 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Previous
                        </button>
                        <button id="nextQuestion" onclick="navigateQuestion(1)" class="px-6 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white transition disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            Next
                        </button>
                    </div>
                </div>
            </div>

            <!-- Type Detail Container -->
            <div id="typeDetailContainer" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden" role="dialog" aria-labelledby="type-detail-title" aria-modal="true">
                <div class="bg-white p-8 rounded-2xl max-w-4xl w-full mx-4 shadow-xl overflow-y-auto max-h-[90vh]">
                    <div class="flex justify-between items-center mb-6">
                        <h3 id="type-detail-title" class="text-2xl font-bold text-gray-800"></h3>
                        <button onclick="closeTypeDetail()" class="text-gray-400 hover:text-gray-600 transition" aria-label="Close type details">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <p id="typeSummary" class="text-lg text-gray-600 mb-6"></p>
                    
                    <div class="grid gap-6">
                        <div class="p-6 bg-blue-50 rounded-xl">
                            <h4 class="text-xl font-semibold text-blue-800 mb-4">Characteristics</h4>
                            <ul id="characteristicsList" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            </ul>
                        </div>
                        
                        <div class="p-6 bg-purple-50 rounded-xl">
                            <h4 class="text-xl font-semibold text-purple-800 mb-4">Relationships</h4>
                            <div class="grid md:grid-cols-2 gap-6">
                                <div>
                                    <h5 class="font-semibold text-purple-700 mb-3">Strengths:</h5>
                                    <ul id="strengthsList" class="space-y-2">
                                    </ul>
                                </div>
                                <div>
                                    <h5 class="font-semibold text-purple-700 mb-3">Challenges:</h5>
                                    <ul id="challengesList" class="space-y-2">
                                    </ul>
                                </div>
                            </div>
                        </div>
                        
                        <div class="p-6 bg-pink-50 rounded-xl">
                            <h4 class="text-xl font-semibold text-pink-800 mb-4">Best Match Types</h4>
                            <div id="bestMatchesList" class="flex flex-wrap gap-2">
                            </div>
                        </div>
                        
                        <div class="p-6 bg-green-50 rounded-xl">
                            <h4 class="text-xl font-semibold text-green-800 mb-4">Suitable Career Paths</h4>
                            <ul id="careersList" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-50 py-8 border-t border-gray-200">
        <div class="container mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">About MBTI Test</h3>
                    <p class="text-gray-600">
                        The Myers-Briggs Type Indicator (MBTI) is a personality assessment tool that helps individuals understand their psychological preferences in how they perceive the world and make decisions.
                    </p>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Quick Links</h3>
                    <ul class="space-y-2">
                        <li>
                            <a href="/" class="text-blue-600 hover:text-blue-800 transition">MBTI Test</a>
                        </li>
                        <li>
                            <a href="/love-match/en/" class="text-blue-600 hover:text-blue-800 transition">Love Match Test</a>
                        </li>
                        <li>
                            <a href="/chinese/" class="text-blue-600 hover:text-blue-800 transition">中文版</a>
                        </li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-lg font-semibold text-gray-700 mb-4">Disclaimer</h3>
                    <p class="text-gray-600">
                        This test is provided for educational and entertainment purposes only. It is not a substitute for professional advice or diagnosis.
                    </p>
                </div>
            </div>
            <div class="mt-8 pt-6 border-t border-gray-200 text-center text-gray-500 text-sm">
                <p>&copy; 2024 Psychological Assessment. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Test related variables
        let currentQuestion = 0;
        let userAnswers = [];
        
        // Test questions data
        const questions = [
            {
                text: "In social situations, you typically:",
                options: [
                    "Tend to interact widely with others and make new friends",
                    "Tend to have deep conversations with a few familiar people"
                ],
                dimension: "EI"
            },
            {
                text: "You prefer to:",
                options: [
                    "Focus on concrete facts and details",
                    "Think about concepts and possibilities"
                ],
                dimension: "SN"
            },
            {
                text: "When making decisions, you usually rely more on:",
                options: [
                    "Logic and objective analysis",
                    "Personal values and how others will be affected"
                ],
                dimension: "TF"
            },
            {
                text: "In your daily life, you prefer:",
                options: [
                    "Having a structured schedule and clear plans",
                    "Staying flexible and adapting to situations as they arise"
                ],
                dimension: "JP"
            },
            {
                text: "After a long week, you would rather:",
                options: [
                    "Go to a party or social event with many people",
                    "Spend quiet time alone or with a few close friends"
                ],
                dimension: "EI"
            },
            {
                text: "You are more interested in:",
                options: [
                    "What is actual and real",
                    "What is possible and theoretical"
                ],
                dimension: "SN"
            },
            {
                text: "You find it more natural to:",
                options: [
                    "Critique and analyze",
                    "Empathize and harmonize"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer to work:",
                options: [
                    "With a clear structure and defined goals",
                    "With flexibility and room for spontaneity"
                ],
                dimension: "JP"
            },
            {
                text: "When at a social event, you typically:",
                options: [
                    "Stay late with increasing energy",
                    "Leave early with decreased energy"
                ],
                dimension: "EI"
            },
            {
                text: "You are more drawn to:",
                options: [
                    "Practical skills and useful knowledge",
                    "Abstract theories and exploring ideas"
                ],
                dimension: "SN"
            },
            {
                text: "When giving feedback, you tend to:",
                options: [
                    "Be straightforward and objective",
                    "Be tactful and considerate"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer environments that are:",
                options: [
                    "Organized and structured",
                    "Flexible and spontaneous"
                ],
                dimension: "JP"
            },
            {
                text: "You would describe yourself as more:",
                options: [
                    "Outgoing and talkative",
                    "Reserved and thoughtful"
                ],
                dimension: "EI"
            },
            {
                text: "You are more likely to trust:",
                options: [
                    "Your direct experiences and observations",
                    "Your intuition and impressions"
                ],
                dimension: "SN"
            },
            {
                text: "In conflicts, you tend to prioritize:",
                options: [
                    "Finding the most logical solution",
                    "Maintaining harmony and considering feelings"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer to:",
                options: [
                    "Make decisions and have closure",
                    "Keep options open and gather more information"
                ],
                dimension: "JP"
            },
            {
                text: "Your energy tends to be:",
                options: [
                    "Directed outward toward people and activities",
                    "Directed inward toward thoughts and ideas"
                ],
                dimension: "EI"
            },
            {
                text: "You prefer conversations about:",
                options: [
                    "Concrete facts and real-life situations",
                    "Ideas, possibilities, and theoretical concepts"
                ],
                dimension: "SN"
            },
            {
                text: "When evaluating a situation, you primarily consider:",
                options: [
                    "Objective facts and logical consequences",
                    "People's feelings and values"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer to:",
                options: [
                    "Plan ahead and be prepared",
                    "Adapt as you go and stay open to changes"
                ],
                dimension: "JP"
            },
            {
                text: "After interacting with many people, you often feel:",
                options: [
                    "Energized and wanting more interaction",
                    "Drained and needing alone time"
                ],
                dimension: "EI"
            },
            {
                text: "You are more interested in:",
                text: "What is happening now and concrete details",
                dimension: "SN"
            },
            {
                text: "When making important decisions, you rely more on:",
                options: [
                    "Objective analysis and logical reasoning",
                    "Your values and the impact on people"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer projects that:",
                options: [
                    "Have clear guidelines and milestones",
                    "Allow for exploration and adaptation"
                ],
                dimension: "JP"
            },
            {
                text: "You find it easier to:",
                options: [
                    "Talk to strangers and make new connections",
                    "Deepen existing relationships with a few people"
                ],
                dimension: "EI"
            },
            {
                text: "You are more likely to:",
                options: [
                    "Trust what you can directly observe and measure",
                    "Trust your hunches and intuitive insights"
                ],
                dimension: "SN"
            },
            {
                text: "You find it more natural to:",
                options: [
                    "Point out flaws and inconsistencies",
                    "Offer encouragement and support"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer environments that are:",
                options: [
                    "Structured, orderly, and predictable",
                    "Flexible, changeable, and spontaneous"
                ],
                dimension: "JP"
            },
            {
                text: "You tend to:",
                options: [
                    "Express your thoughts and feelings readily",
                    "Keep your thoughts and feelings to yourself"
                ],
                dimension: "EI"
            },
            {
                text: "You are more interested in:",
                options: [
                    "Facts, details, and practical matters",
                    "Patterns, connections, and meaning"
                ],
                dimension: "SN"
            },
            {
                text: "When someone comes to you with a problem, you first:",
                options: [
                    "Analyze the situation and suggest solutions",
                    "Listen and offer emotional support"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer to:",
                options: [
                    "Have things settled and decided",
                    "Keep your options open"
                ],
                dimension: "JP"
            },
            {
                text: "You find social events:",
                options: [
                    "Energizing and exciting",
                    "Sometimes draining but occasionally enjoyable"
                ],
                dimension: "EI"
            },
            {
                text: "You are more drawn to:",
                options: [
                    "Practical applications and proven methods",
                    "Innovation and theoretical possibilities"
                ],
                dimension: "SN"
            },
            {
                text: "You value more:",
                options: [
                    "Clarity, consistency, and logical analysis",
                    "Harmony, empathy, and compassionate understanding"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer to work in an environment that is:",
                options: [
                    "Structured with clear expectations",
                    "Flexible with room for creativity"
                ],
                dimension: "JP"
            },
            {
                text: "You tend to:",
                options: [
                    "Speak first, then reflect",
                    "Reflect first, then speak"
                ],
                dimension: "EI"
            },
            {
                text: "You are more likely to trust:",
                options: [
                    "Your direct experiences and what you can verify",
                    "Your impressions and what feels right"
                ],
                dimension: "SN"
            },
            {
                text: "When making decisions, you typically:",
                options: [
                    "Weigh the logical pros and cons",
                    "Consider how choices affect people"
                ],
                dimension: "TF"
            },
            {
                text: "You prefer to:",
                options: [
                    "Follow a schedule and have things planned",
                    "Be spontaneous and adapt as you go"
                ],
                dimension: "JP"
            }
        ];
        
        // MBTI type data
        const mbtiTypes = {
            'INTJ': {
                title: 'Architect',
                summary: 'Imaginative and strategic thinkers, with a plan for everything.',
                characteristics: [
                    'Strategic thinking',
                    'Strong independence',
                    'High standards',
                    'Innovative thinking',
                    'Strong analytical skills'
                ],
                relationships: {
                    strengths: [
                        'Loyal and devoted',
                        'Direct and honest',
                        'Knowledgeable',
                        'Seeks growth'
                    ],
                    challenges: [
                        'Difficulty expressing emotions',
                        'Perfectionism',
                        'Can appear cold',
                        'Inflexibility'
                    ],
                    bestMatches: ['ENFP', 'ENTP', 'INFP', 'INFJ']
                },
                careers: [
                    'Strategic analyst',
                    'Scientist',
                    'Engineer',
                    'Architect',
                    'Data scientist',
                    'Legal advisor',
                    'Investment analyst',
                    'Systems designer'
                ]
            },
            'INTP': {
                title: 'Logician',
                summary: 'Innovative inventors with an unquenchable thirst for knowledge.',
                characteristics: [
                    'Analytical thinking',
                    'Objective reasoning',
                    'Abstract concepts',
                    'Intellectual curiosity',
                    'Original ideas'
                ],
                relationships: {
                    strengths: [
                        'Open-minded',
                        'Honest and straightforward',
                        'Intellectually stimulating',
                        'Respects independence'
                    ],
                    challenges: [
                        'Difficulty with emotional expression',
                        'Can be insensitive',
                        'Overthinking',
                        'Difficulty with commitment'
                    ],
                    bestMatches: ['ENTJ', 'ENFJ', 'ESTJ', 'INFJ']
                },
                careers: [
                    'Software developer',
                    'Research scientist',
                    'Mathematician',
                    'Systems analyst',
                    'Professor',
                    'Economist',
                    'Philosopher',
                    'Logician'
                ]
            },
            'ENTJ': {
                title: 'Commander',
                summary: 'Bold, imaginative and strong-willed leaders, always finding a way – or making one.',
                characteristics: [
                    'Natural leadership',
                    'Strategic planning',
                    'Efficiency-focused',
                    'Decisive action',
                    'Self-confidence'
                ],
                relationships: {
                    strengths: [
                        'Loyal and committed',
                        'Honest and direct',
                        'Growth-oriented',
                        'Supportive of goals'
                    ],
                    challenges: [
                        'Can be domineering',
                        'Impatient with inefficiency',
                        'Difficulty with emotions',
                        'Workaholic tendencies'
                    ],
                    bestMatches: ['INTP', 'INFP', 'INTJ', 'ENFP']
                },
                careers: [
                    'Executive',
                    'Business consultant',
                    'Lawyer',
                    'Entrepreneur',
                    'Financial advisor',
                    'Project manager',
                    'Political leader',
                    'University professor'
                ]
            },
            'ENTP': {
                title: 'Debater',
                summary: 'Smart and curious thinkers who cannot resist an intellectual challenge.',
                characteristics: [
                    'Quick thinking',
                    'Excellent brainstorming',
                    'Loves debate',
                    'Energetic',
                    'Innovative'
                ],
                relationships: {
                    strengths: [
                        'Intellectually stimulating',
                        'Spontaneous and fun',
                        'Adaptable',
                        'Open to new ideas'
                    ],
                    challenges: [
                        'Can be argumentative',
                        'Dislikes routine',
                        'May neglect details',
                        'Can be insensitive'
                    ],
                    bestMatches: ['INTJ', 'INFJ', 'INFP', 'ENTJ']
                },
                careers: [
                    'Entrepreneur',
                    'Lawyer',
                    'Creative director',
                    'Marketing strategist',
                    'Political consultant',
                    'Software developer',
                    'Engineer',
                    'Journalist'
                ]
            },
            'INFJ': {
                title: 'Advocate',
                summary: 'Quiet and mystical, yet very inspiring and tireless idealists.',
                characteristics: [
                    'Deep insight',
                    'Strong convictions',
                    'Creative thinking',
                    'Determined idealism',
                    'Sensitivity to others'
                ],
                relationships: {
                    strengths: [
                        'Deep connection',
                        'Supportive and caring',
                        'Insightful guidance',
                        'Committed to growth'
                    ],
                    challenges: [
                        'Perfectionism',
                        'Difficulty with criticism',
                        'Can be overly private',
                        'May burn out helping others'
                    ],
                    bestMatches: ['ENFP', 'ENTP', 'INTJ', 'INFP']
                },
                careers: [
                    'Counselor',
                    'Psychologist',
                    'Writer',
                    'HR manager',
                    'Professor',
                    'Social worker',
                    'Non-profit director',
                    'Healthcare professional'
                ]
            },
            'INFP': {
                title: 'Mediator',
                summary: 'Poetic, kind and altruistic people, always eager to help a good cause.',
                characteristics: [
                    'Idealistic',
                    'Empathetic',
                    'Creative',
                    'Open-minded',
                    'Passionate'
                ],
                relationships: {
                    strengths: [
                        'Deeply caring',
                        'Authentic and genuine',
                        'Supportive of growth',
                        'Accepting of differences'
                    ],
                    challenges: [
                        'Can be overly idealistic',
                        'May avoid conflict',
                        'Can be impractical',
                        'Tendency to take things personally'
                    ],
                    bestMatches: ['ENFJ', 'ENTJ', 'INFJ', 'INTJ']
                },
                careers: [
                    'Writer',
                    'Counselor',
                    'Artist',
                    'Teacher',
                    'Psychologist',
                    'Social worker',
                    'Librarian',
                    'HR specialist'
                ]
            },
            'ENFJ': {
                title: 'Protagonist',
                summary: 'Charismatic and inspiring leaders, able to mesmerize their listeners.',
                characteristics: [
                    'Natural leadership',
                    'Charismatic',
                    'Empathetic',
                    'Altruistic',
                    'Reliable'
                ],
                relationships: {
                    strengths: [
                        'Warm and affirming',
                        'Deeply committed',
                        'Inspiring and motivating',
                        'Excellent communicators'
                    ],
                    challenges: [
                        'Can be overly idealistic',
                        'May neglect own needs',
                        'Sensitive to criticism',
                        'Can be controlling'
                    ],
                    bestMatches: ['INFP', 'ISFP', 'INTP', 'ISFJ']
                },
                careers: [
                    'Teacher',
                    'HR director',
                    'Counselor',
                    'Marketing manager',
                    'Non-profit leader',
                    'Public relations specialist',
                    'Sales manager',
                    'Life coach'
                ]
            },
            'ENFP': {
                title: 'Campaigner',
                summary: 'Enthusiastic, creative and sociable free spirits, who can always find a reason to smile.',
                characteristics: [
                    'Enthusiastic',
                    'Creative',
                    'People-oriented',
                    'Energetic',
                    'Perceptive'
                ],
                relationships: {
                    strengths: [
                        'Warm and enthusiastic',
                        'Empathetic and caring',
                        'Fun and spontaneous',
                        'Deeply connected'
                    ],
                    challenges: [
                        'Can be overly emotional',
                        'May struggle with follow-through',
                        'Dislike routine',
                        'Need for external validation'
                    ],
                    bestMatches: ['INTJ', 'INFJ', 'ENTJ', 'ENFJ']
                },
                careers: [
                    'Journalist',
                    'Actor',
                    'Consultant',
                    'Psychologist',
                    'Event planner',
                    'Public relations specialist',
                    'Entrepreneur',
                    'Creative director'
                ]
            },
            'ISTJ': {
                title: 'Logistician',
                summary: 'Practical and fact-minded individuals, whose reliability cannot be doubted.',
                characteristics: [
                    'Organized',
                    'Reliable',
                    'Detail-oriented',
                    'Practical',
                    'Responsible'
                ],
                relationships: {
                    strengths: [
                        'Loyal and committed',
                        'Honest and direct',
                        'Responsible',
                        'Stable and dependable'
                    ],
                    challenges: [
                        'Can be inflexible',
                        'May resist change',
                        'Can seem emotionally distant',
                        'May judge too quickly'
                    ],
                    bestMatches: ['ESFP', 'ESTP', 'ESTJ', 'ENTJ']
                },
                careers: [
                    'Accountant',
                    'Project manager',
                    'Military officer',
                    'Financial analyst',
                    'Lawyer',
                    'Database administrator',
                    'Logistics manager',
                    'Quality assurance specialist'
                ]
            },
            'ISFJ': {
                title: 'Defender',
                summary: 'Very dedicated and warm protectors, always ready to defend their loved ones.',
                characteristics: [
                    'Supportive',
                    'Reliable',
                    'Observant',
                    'Patient',
                    'Detail-oriented'
                ],
                relationships: {
                    strengths: [
                        'Loyal and committed',
                        'Supportive and nurturing',
                        'Reliable and practical',
                        'Excellent listeners'
                    ],
                    challenges: [
                        'Can take criticism personally',
                        'Difficulty saying no',
                        'May neglect own needs',
                        'Resistant to change'
                    ],
                    bestMatches: ['ESFP', 'ESTP', 'ENFP', 'ENTP']
                },
                careers: [
                    'Nurse',
                    'Elementary teacher',
                    'Social worker',
                    'Administrative assistant',
                    'Customer service representative',
                    'Librarian',
                    'Dietitian',
                    'Interior designer'
                ]
            },
            'ESTJ': {
                title: 'Executive',
                summary: 'Excellent administrators, unsurpassed at managing things – or people.',
                characteristics: [
                    'Organized',
                    'Practical',
                    'Dependable',
                    'Traditional',
                    'Direct'
                ],
                relationships: {
                    strengths: [
                        'Reliable and committed',
                        'Honest and direct',
                        'Strong protectors',
                        'Practical problem solvers'
                    ],
                    challenges: [
                        'Can be inflexible',
                        'May be judgmental',
                        'Can be domineering',
                        'Difficulty with emotions'
                    ],
                    bestMatches: ['ISFP', 'ISTP', 'INTP', 'ISFJ']
                },
                careers: [
                    'Business manager',
                    'School principal',
                    'Financial officer',
                    'Judge',
                    'Police officer',
                    'Military officer',
                    'Pharmacist',
                    'Insurance agent'
                ]
            },
            'ESFJ': {
                title: 'Consul',
                summary: 'Extraordinarily caring, social and popular people, always eager to help.',
                characteristics: [
                    'Supportive',
                    'Reliable',
                    'Conscientious',
                    'Organized',
                    'Harmonious'
                ],
                relationships: {
                    strengths: [
                        'Warm and supportive',
                        'Reliable and practical',
                        'Excellent at connecting people',
                        'Committed to relationships'
                    ],
                    challenges: [
                        'Can be needy for approval',
                        'May be inflexible',
                        'Sensitive to criticism',
                        'May neglect own needs'
                    ],
                    bestMatches: ['ISFP', 'ISTP', 'INFP', 'INTP']
                },
                careers: [
                    'Healthcare worker',
                    'Teacher',
                    'Social worker',
                    'Event planner',
                    'Sales representative',
                    'Human resources specialist',
                    'Office manager',
                    'Customer service manager'
                ]
            },
            'ISTP': {
                title: 'Virtuoso',
                summary: 'Bold and practical experimenters, masters of all kinds of tools.',
                characteristics: [
                    'Adaptable',
                    'Practical',
                    'Logical',
                    'Observant',
                    'Independent'
                ],
                relationships: {
                    strengths: [
                        'Calm in crisis',
                        'Independent yet loyal',
                        'Practical problem solver',
                        'Adaptable and flexible'
                    ],
                    challenges: [
                        'Can be emotionally distant',
                        'May avoid commitment',
                        'Can be insensitive',
                        'Dislikes long-term planning'
                    ],
                    bestMatches: ['ESFJ', 'ESTJ', 'ENTJ', 'ENFJ']
                },
                careers: [
                    'Engineer',
                    'Mechanic',
                    'Pilot',
                    'Forensic scientist',
                    'Carpenter',
                    'Electrician',
                    'Paramedic',
                    'Systems analyst'
                ]
            },
            'ISFP': {
                title: 'Adventurer',
                summary: 'Flexible and charming artists, always ready to explore and experience something new.',
                characteristics: [
                    'Artistic',
                    'Sensitive',
                    'Gentle',
                    'Practical',
                    'Present-focused'
                ],
                relationships: {
                    strengths: [
                        'Warm and sensitive',
                        'Loyal and committed',
                        'Non-judgmental',
                        'Adaptable'
                    ],
                    challenges: [
                        'Can be overly private',
                        'May avoid conflict',
                        'Can be unpredictable',
                        'Difficulty with long-term planning'
                    ],
                    bestMatches: ['ESFJ', 'ESTJ', 'ENFJ', 'ENTJ']
                },
                careers: [
                    'Artist',
                    'Designer',
                    'Musician',
                    'Chef',
                    'Veterinarian',
                    'Nurse',
                    'Physical therapist',
                    'Fashion designer'
                ]
            },
            'ESTP': {
                title: 'Entrepreneur',
                summary: 'Smart, energetic and very perceptive people, who truly enjoy living on the edge.',
                characteristics: [
                    'Energetic',
                    'Action-oriented',
                    'Adaptable',
                    'Resourceful',
                    'Persuasive'
                ],
                relationships: {
                    strengths: [
                        'Fun and spontaneous',
                        'Practical problem solver',
                        'Direct and honest',
                        'Adaptable'
                    ],
                    challenges: [
                        'Can be insensitive',
                        'May take risks',
                        'Difficulty with commitment',
                        'May neglect long-term consequences'
                    ],
                    bestMatches: ['ISFJ', 'ISTJ', 'INFJ', 'INTJ']
                },
                careers: [
                    'Entrepreneur',
                    'Sales manager',
                    'Athlete',
                    'Police officer',
                    'Firefighter',
                    'Marketing specialist',
                    'Real estate agent',
                    'Financial trader'
                ]
            },
            'ESFP': {
                title: 'Entertainer',
                summary: 'Spontaneous, energetic and enthusiastic people – life is never boring around them.',
                characteristics: [
                    'Enthusiastic',
                    'Fun-loving',
                    'Sociable',
                    'Practical',
                    'Present-focused'
                ],
                relationships: {
                    strengths: [
                        'Warm and enthusiastic',
                        'Fun and spontaneous',
                        'Practical helper',
                        'Empathetic'
                    ],
                    challenges: [
                        'Can be impulsive',
                        'May avoid serious discussions',
                        'Difficulty with long-term planning',
                        'Sensitive to criticism'
                    ],
                    bestMatches: ['ISFJ', 'ISTJ', 'INFJ', 'INTJ']
                },
                careers: [
                    'Performer',
                    'Public relations specialist',
                    'Event planner',
                    'Sales representative',
                    'Travel agent',
                    'Fashion designer',
                    'Preschool teacher',
                    'Restaurant manager'
                ]
            }
        };
        
        // Link handling
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM fully loaded'); // 调试日志
            
            // 设置链接路径
            const loveMatchPath = '/love-match/en/';
            
            // 设置导航栏链接
            const navLoveMatchLink = document.getElementById('navLoveMatchLink');
            if (navLoveMatchLink) {
                navLoveMatchLink.href = loveMatchPath;
            }
            
            // 设置 Hero 部分按钮链接
            const heroLoveMatchLink = document.getElementById('heroLoveMatchLink');
            if (heroLoveMatchLink) {
                heroLoveMatchLink.href = loveMatchPath;
            }
            
            // 绑定开始测试按钮事件
            const startTestButton = document.getElementById('startTest');
            if (startTestButton) {
                startTestButton.addEventListener('click', startTest);
            } else {
                console.error('Start test button not found');
            }
            
            // 其他初始化代码...
        });
        
        // Test related functions
        function startTest() {
            console.log('Starting test...'); // For debugging
            // Initialize test
            currentQuestion = 0;
            userAnswers = new Array(questions.length).fill(null);
            const testContainer = document.getElementById('testContainer');
            if (testContainer) {
                testContainer.classList.remove('hidden');
                showQuestion(0);
            } else {
                console.error('Test container not found!'); // For debugging
            }
        }
        
        function showQuestion(index) {
            // 更新问题编号
            document.getElementById('questionNumber').textContent = index + 1;
            
            // 更新问题文本
            document.getElementById('questionText').textContent = questions[index].text;
            
            // 更新答案选项
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons[0].textContent = questions[index].options[0];
            answerButtons[1].textContent = questions[index].options[1];
            
            // 更新按钮状态
            answerButtons.forEach((button, i) => {
                // 重置选中状态
                button.classList.remove('bg-blue-100', 'border-blue-300');
                button.setAttribute('aria-checked', 'false');
                
                // 如果用户已经回答过这个问题，标记选中的答案
                if (userAnswers[index] === i) {
                    button.classList.add('bg-blue-100', 'border-blue-300');
                    button.setAttribute('aria-checked', 'true');
                }
                
                // 添加点击事件
                button.onclick = function() {
                    selectAnswer(i);
                };
            });
            
            // 更新导航按钮状态
            document.getElementById('prevQuestion').disabled = index === 0;
            document.getElementById('nextQuestion').disabled = userAnswers[index] === null;
            
            // 如果是最后一个问题，更改下一步按钮文本
            if (index === questions.length - 1) {
                document.getElementById('nextQuestion').textContent = 'See Results';
            } else {
                document.getElementById('nextQuestion').textContent = 'Next';
            }
        }
        
        function selectAnswer(answerIndex) {
            userAnswers[currentQuestion] = answerIndex;
            
            // 更新按钮状态
            const answerButtons = document.querySelectorAll('.answer-btn');
            answerButtons.forEach((button, i) => {
                button.classList.remove('bg-blue-100', 'border-blue-300');
                button.setAttribute('aria-checked', 'false');
                
                if (i === answerIndex) {
                    button.classList.add('bg-blue-100', 'border-blue-300');
                    button.setAttribute('aria-checked', 'true');
                }
            });
            
            // 启用下一步按钮
            document.getElementById('nextQuestion').disabled = false;
        }
        
        function closeTest() {
            document.getElementById('testContainer').classList.add('hidden');
        }
        
        function showTypeDetail(type) {
            console.log('Showing type detail for:', type); // For debugging
            const typeData = mbtiTypes[type];
            if (!typeData) {
                console.error('Type data not found for:', type);
                return;
            }

            // 填充类型详情
            document.getElementById('type-detail-title').textContent = `${type} - ${typeData.title}`;
            document.getElementById('typeSummary').textContent = typeData.summary;

            // 填充特点列表
            const characteristicsList = document.getElementById('characteristicsList');
            characteristicsList.innerHTML = typeData.characteristics.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-blue-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 填充优势列表
            const strengthsList = document.getElementById('strengthsList');
            strengthsList.innerHTML = typeData.relationships.strengths.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 填充挑战列表
            const challengesList = document.getElementById('challengesList');
            challengesList.innerHTML = typeData.relationships.challenges.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-red-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 填充最佳匹配类型
            const bestMatchesList = document.getElementById('bestMatchesList');
            bestMatchesList.innerHTML = typeData.relationships.bestMatches.map(matchType => `
                <span class="inline-block bg-pink-100 text-pink-800 rounded-full px-3 py-1 text-sm font-medium">
                    ${matchType}
                </span>
            `).join('');

            // 填充职业列表
            const careersList = document.getElementById('careersList');
            careersList.innerHTML = typeData.careers.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 显示类型详情容器
            document.getElementById('typeDetailContainer').classList.remove('hidden');
        }
        
        function closeTypeDetail() {
            document.getElementById('typeDetailContainer').classList.add('hidden');
        }

        function navigateQuestion(direction) {
            // 保存当前问题的答案
            if (direction > 0 && userAnswers[currentQuestion] === null) {
                return; // 如果用户没有回答当前问题，不能前进
            }
            
            // 计算新的问题索引
            const newIndex = currentQuestion + direction;
            
            // 检查是否超出范围
            if (newIndex < 0) {
                return;
            }
            
            // 如果是最后一个问题并且用户点击了"下一步"，则显示结果
            if (newIndex >= questions.length) {
                calculateResult();
                return;
            }
            
            // 更新当前问题索引并显示新问题
            currentQuestion = newIndex;
            showQuestion(currentQuestion);
        }

        function calculateResult() {
            console.log("Calculating result..."); // 调试日志
            
            // 计算每个维度的得分
            let eScore = 0, iScore = 0, sScore = 0, nScore = 0, tScore = 0, fScore = 0, jScore = 0, pScore = 0;
            
            userAnswers.forEach((answer, index) => {
                if (index >= questions.length || !questions[index]) {
                    console.warn(`Question at index ${index} not found`);
                    return;
                }
                
                const dimension = questions[index].dimension;
                console.log(`Question ${index}, dimension: ${dimension}, answer: ${answer}`); // 调试日志
                
                switch(dimension) {
                    case 'EI':
                        if (answer === 0) eScore++;
                        else iScore++;
                        break;
                    case 'SN':
                        if (answer === 0) sScore++;
                        else nScore++;
                        break;
                    case 'TF':
                        if (answer === 0) tScore++;
                        else fScore++;
                        break;
                    case 'JP':
                        if (answer === 0) jScore++;
                        else pScore++;
                        break;
                    default:
                        console.warn(`Unknown dimension: ${dimension}`);
                }
            });
            
            console.log(`Scores - E:${eScore} I:${iScore} S:${sScore} N:${nScore} T:${tScore} F:${fScore} J:${jScore} P:${pScore}`); // 调试日志
            
            // 确定每个维度的结果
            const e_i = eScore >= iScore ? 'E' : 'I';
            const s_n = sScore >= nScore ? 'S' : 'N';
            const t_f = tScore >= fScore ? 'T' : 'F';
            const j_p = jScore >= pScore ? 'J' : 'P';
            
            // 组合成最终的MBTI类型
            const mbtiType = e_i + s_n + t_f + j_p;
            console.log(`Final MBTI type: ${mbtiType}`); // 调试日志
            
            // 检查类型是否存在
            if (!mbtiTypes[mbtiType]) {
                console.error(`MBTI type ${mbtiType} not found in data`);
                // 使用默认类型
                showTypeDetail('INTJ');
                return;
            }
            
            // 关闭测试容器并显示结果
            closeTest();
            showTypeDetail(mbtiType);
        }
    </script>

    <!-- Google Analytics -->
    <div style="display: none;">
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-SFKG3PGVN4"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-SFKG3PGVN4');
        </script>
    </div>
</body>
</html>

