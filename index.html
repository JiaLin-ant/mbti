<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="manifest" href="/site.webmanifest">
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="免费在线MBTI性格测试，通过40道专业测试题，准确分析你的16型人格类型。了解自己是分析家、外交家、哨兵还是探险家，发现最适合的职业发展方向和恋爱匹配类型。">
    <meta name="keywords" content="MBTI测试,16型人格测试,性格测试,职业性格测试,MBTI中文测试,免费性格测试,在线心理测试,职业规划,人格分析,性格分析,心理测评,恋爱匹配,性格配对">
    <title>MBTI性格测试 | 免费在线16型人格测试 | 附恋爱匹配功能</title>

    <!-- Canonical URL -->
    <link rel="canonical" href="https://mbtitests.com/index.html">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://mbtitests.com/index.html">
    <meta property="og:title" content="MBTI性格测试 - 免费在线测试分析你的16型人格类型">
    <meta property="og:description" content="通过专业的MBTI性格测试，了解你的性格特质。免费完成测试，发现最适合的职业发展方向。">
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "MBTI性格测试",
        "description": "免费在线MBTI性格测试，帮助你了解自己的性格特质和职业发展方向",
        "url": "https://mbtitests.com",
        "applicationCategory": "PersonalityTest",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "CNY"
        },
        "creator": {
            "@type": "Organization",
            "name": "心理测评",
            "url": "https://mbtitests.com"
        },
        "aggregateRating": {
            "@type": "AggregateRating",
            "ratingValue": "4.8",
            "ratingCount": "1250",
            "bestRating": "5",
            "worstRating": "1"
        }
    }
    </script>
    
    <!-- Breadcrumb Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [{
            "@type": "ListItem",
            "position": 1,
            "name": "首页",
            "item": "https://mbtitests.com"
        },{
            "@type": "ListItem",
            "position": 2,
            "name": "MBTI性格测试",
            "item": "https://mbtitests.com/index.html"
        }]
    }
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@100..900&display=swap');
        * {
            font-family: 'Noto Sans SC', sans-serif;
            scroll-behavior: smooth;  /* 添加平滑滚动效果 */
        }
    </style>
    <!-- 在 head 部分添加规范链接 -->
    <link rel="canonical" href="https://www.mbtitests.com/" />
</head>
<body class="bg-white min-h-screen">
    <!-- 添加跳转到主要内容的链接，提高可访问性 -->
    <a href="#main-content" class="sr-only focus:not-sr-only">
        跳转到主要内容
    </a>
    
    <!-- Main Content -->
    <main class="flex-1" id="main-content">
        <!-- Header -->
        <header class="fixed w-full bg-white/90 backdrop-blur-sm z-50 shadow-sm" role="banner">
            <nav class="container mx-auto px-6 py-4" role="navigation" aria-label="主导航">
                <div class="flex items-center justify-between">
                    <div class="flex items-center">
                        <a href="/" class="text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600" aria-label="返回首页">
                            心理测评
                        </a>
                    </div>
                    <div class="hidden md:flex items-center space-x-8">
                        <a href="/" class="text-gray-600 hover:text-blue-600 font-medium transition border-b-2 border-blue-600" aria-current="page">
                            MBTI测试
                        </a>
                        <a href="https://www.mbtitests.com/love-match/" id="navLoveMatchLink" class="text-gray-600 hover:text-blue-600 font-medium transition border-b-2 border-transparent hover:border-blue-600">
                            恋爱匹配
                        </a>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Main Content -->
        <main class="pt-20 bg-white" role="main">
            <!-- Hero Section -->
            <section class="py-12 px-6 bg-gradient-to-b from-blue-50 to-white" aria-labelledby="hero-title">
                <div class="container mx-auto text-center">
                    <h1 id="hero-title" class="text-4xl md:text-6xl font-bold mb-6 bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-500 text-transparent bg-clip-text">
                        探索你的性格类型
                    </h1>
                    <p class="text-lg md:text-xl text-gray-600 mb-8 max-w-3xl mx-auto" aria-describedby="hero-title">
                        通过科学的MBTI测试，了解你的性格特质，发现真实的自己
                    </p>
                    <div class="flex flex-col sm:flex-row justify-center gap-4">
                        <button id="startTest" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-lg text-base font-semibold hover:opacity-90 transition shadow-md hover:shadow-lg" aria-label="开始MBTI性格测试">
                            开始测试
                        </button>
                        <a href="https://www.mbtitests.com/love-match/" id="heroLoveMatchLink" class="bg-gradient-to-r from-pink-500 to-rose-600 text-white px-6 py-3 rounded-lg text-base font-semibold hover:opacity-90 transition shadow-md hover:shadow-lg inline-flex items-center justify-center" aria-label="前往恋爱匹配测试">
                            恋爱匹配测试
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3" />
                            </svg>
                        </a>
                    </div>
                </div>
            </section>

            <!-- Personality Types Grid -->
            <section class="py-8 px-6" aria-labelledby="personality-types-title">
                <h2 id="personality-types-title" class="sr-only">MBTI 16种性格类型</h2>
                <div class="container mx-auto">
                    <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        <!-- 分析家类型 -->
                        <div class="bg-blue-50 p-6 rounded-2xl shadow-sm border border-blue-100" role="region" aria-labelledby="analyst-title">
                            <h3 id="analyst-title" class="text-xl font-semibold text-blue-800 mb-4 text-center">分析家类型</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <button onclick="showTypeDetail('INTJ')" class="group text-left bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200" aria-label="查看INTJ建筑师型人格详情">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">INTJ</h4>
                                            <p class="text-blue-600 text-sm mt-1">建筑师</p>
                                        </div>
                                    </div>
                                </button>
                                <div onclick="showTypeDetail('INTP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">INTP</h4>
                                            <p class="text-blue-600 text-sm mt-1">逻辑学家</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ENTJ')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">ENTJ</h4>
                                            <p class="text-blue-600 text-sm mt-1">指挥官</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ENTP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-blue-50 transition border border-blue-100 hover:border-blue-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-blue-900">ENTP</h4>
                                            <p class="text-blue-600 text-sm mt-1">辩论家</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 外交家类型 -->
                        <div class="bg-green-50 p-6 rounded-2xl shadow-sm border border-green-100">
                            <h3 class="text-xl font-semibold text-green-800 mb-4 text-center">外交家类型</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <div onclick="showTypeDetail('INFJ')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">INFJ</h4>
                                            <p class="text-green-600 text-sm mt-1">提倡者</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('INFP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">INFP</h4>
                                            <p class="text-green-600 text-sm mt-1">调停者</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ENFJ')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">ENFJ</h4>
                                            <p class="text-green-600 text-sm mt-1">主人公</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ENFP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-green-50 transition border border-green-100 hover:border-green-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-green-900">ENFP</h4>
                                            <p class="text-green-600 text-sm mt-1">启发者</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 哨兵类型 -->
                        <div class="bg-amber-50 p-6 rounded-2xl shadow-sm border border-amber-100">
                            <h3 class="text-xl font-semibold text-amber-800 mb-4 text-center">哨兵类型</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <div onclick="showTypeDetail('ISTJ')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-amber-50 transition border border-amber-100 hover:border-amber-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-amber-900">ISTJ</h4>
                                            <p class="text-amber-600 text-sm mt-1">物流师</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ISFJ')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-amber-50 transition border border-amber-100 hover:border-amber-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-amber-900">ISFJ</h4>
                                            <p class="text-amber-600 text-sm mt-1">守护者</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ESTJ')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-amber-50 transition border border-amber-100 hover:border-amber-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-amber-900">ESTJ</h4>
                                            <p class="text-amber-600 text-sm mt-1">总经理</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ESFJ')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-amber-50 transition border border-amber-100 hover:border-amber-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-amber-900">ESFJ</h4>
                                            <p class="text-amber-600 text-sm mt-1">执政官</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 探险家类型 -->
                        <div class="bg-rose-50 p-6 rounded-2xl shadow-sm border border-rose-100">
                            <h3 class="text-xl font-semibold text-rose-800 mb-4 text-center">探险家类型</h3>
                            <div class="grid grid-cols-2 gap-3">
                                <div onclick="showTypeDetail('ISTP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-rose-50 transition border border-rose-100 hover:border-rose-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-rose-900">ISTP</h4>
                                            <p class="text-rose-600 text-sm mt-1">鉴赏家</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ISFP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-rose-50 transition border border-rose-100 hover:border-rose-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-rose-900">ISFP</h4>
                                            <p class="text-rose-600 text-sm mt-1">探险家</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ESTP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-rose-50 transition border border-rose-100 hover:border-rose-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-rose-900">ESTP</h4>
                                            <p class="text-rose-600 text-sm mt-1">企业家</p>
                                        </div>
                                    </div>
                                </div>
                                <div onclick="showTypeDetail('ESFP')" class="group cursor-pointer bg-white rounded-xl overflow-hidden hover:bg-rose-50 transition border border-rose-100 hover:border-rose-200">
                                    <div class="p-3 text-center">
                                        <div class="flex flex-col items-center">
                                            <h4 class="text-lg font-bold text-rose-900">ESFP</h4>
                                            <p class="text-rose-600 text-sm mt-1">表演者</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 在 Personality Types Grid 下方添加恋爱匹配测试推荐 -->
            <div class="text-center py-8">
              <h3 class="text-2xl font-semibold text-gray-800 mb-4">想知道哪种性格类型与你最匹配？</h3>
              <p class="text-gray-600 mb-6 max-w-2xl mx-auto">
                每种MBTI类型都有最适合的恋爱匹配对象。通过我们的恋爱匹配测试，发现你的理想伴侣类型，了解如何建立和谐的亲密关系。
              </p>
              <a href="https://www.mbtitests.com/love-match/" class="text-pink-600 hover:text-pink-800 font-medium text-lg inline-flex items-center">
                前往恋爱匹配测试
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </a>
            </div>

            <!-- Test Container -->
            <div id="testContainer" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden" role="dialog" aria-labelledby="test-title" aria-modal="true">
                <div class="bg-white p-8 rounded-2xl max-w-3xl w-full mx-4 shadow-xl" style="margin-top: -10vh;">
                    <div class="flex justify-between items-center mb-6">
                        <h3 id="test-title" class="text-2xl font-bold text-gray-800">问题 <span id="questionNumber">1</span>/40</h3>
                        <button onclick="closeTest()" class="text-gray-400 hover:text-gray-600 transition" aria-label="关闭测试">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                            </svg>
                        </button>
                    </div>
                    
                    <div class="mb-8">
                        <p id="questionText" class="text-xl text-gray-800 mb-6" role="heading" aria-level="4">在社交场合，你通常会：</p>
                        <div class="space-y-4" role="radiogroup" aria-labelledby="questionText">
                            <button class="answer-btn w-full text-left p-4 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-700 transition" role="radio" aria-checked="false">
                                倾向于与他人广泛交流，认识新朋友
                            </button>
                            <button class="answer-btn w-full text-left p-4 rounded-lg bg-gray-50 hover:bg-gray-100 border border-gray-200 text-gray-700 transition" role="radio" aria-checked="false">
                                倾向于与少数熟悉的人深入交谈
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex justify-between">
                        <button id="prevQuestion" class="px-6 py-2 rounded-lg bg-gray-100 hover:bg-gray-200 text-gray-700 transition disabled:opacity-50 disabled:cursor-not-allowed">
                            上一题
                        </button>
                        <button id="nextQuestion" class="px-6 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white transition disabled:opacity-50 disabled:cursor-not-allowed">
                            下一题
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </main>

    <!-- 在 testContainer 后添加类型详情容器 -->
    <div id="typeDetailContainer" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden" role="dialog" aria-labelledby="type-detail-title" aria-modal="true">
        <div class="bg-white p-8 rounded-2xl max-w-4xl w-full mx-4 shadow-xl overflow-y-auto max-h-[90vh]">
            <div class="flex justify-between items-center mb-6">
                <h3 id="type-detail-title" class="text-2xl font-bold text-gray-800"></h3>
                <button onclick="closeTypeDetail()" class="text-gray-400 hover:text-gray-600 transition" aria-label="关闭类型详情">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <p id="typeSummary" class="text-lg text-gray-600 mb-6"></p>
            
            <div class="grid gap-6">
                <div class="p-6 bg-blue-50 rounded-xl">
                    <h4 class="text-xl font-semibold text-blue-800 mb-4">性格特点</h4>
                    <ul id="characteristicsList" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    </ul>
                </div>
                
                <div class="p-6 bg-purple-50 rounded-xl">
                    <h4 class="text-xl font-semibold text-purple-800 mb-4">人际关系</h4>
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h5 class="font-semibold text-purple-700 mb-3">优势：</h5>
                            <ul id="strengthsList" class="space-y-2">
                            </ul>
                        </div>
                        <div>
                            <h5 class="font-semibold text-purple-700 mb-3">挑战：</h5>
                            <ul id="challengesList" class="space-y-2">
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 bg-pink-50 rounded-xl">
                    <h4 class="text-xl font-semibold text-pink-800 mb-4">最佳匹配类型</h4>
                    <div id="bestMatchesList" class="flex flex-wrap gap-2">
                    </div>
                </div>
                
                <div class="p-6 bg-green-50 rounded-xl">
                    <h4 class="text-xl font-semibold text-green-800 mb-4">适合的职业方向</h4>
                    <ul id="careersList" class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- 将所有 JavaScript 代码放在一个 script 标签中，并放在 body 结束标签之前 -->
    <script>
        // 测试相关变量
        let currentQuestion = 0;
        let userAnswers = [];
        
        // 测试问题数据
        const questions = [
            {
                text: "在社交场合，你通常会：",
                options: [
                    "倾向于与他人广泛交流，认识新朋友",
                    "倾向于与少数熟悉的人深入交谈"
                ],
                dimension: "EI"
            },
            {
                text: "你更喜欢：",
                options: [
                    "关注具体的事实和细节",
                    "思考概念和可能性"
                ],
                dimension: "SN"
            }
            // ... 其他问题
        ];

        // MBTI 类型数据
        const mbtiTypes = {
            'INTJ': {
                title: '建筑师',
                summary: '富有想象力和战略性的思考者，一切都在计划之中。',
                characteristics: [
                    '战略性思维',
                    '独立性强',
                    '高标准',
                    '创新性思维',
                    '分析能力强'
                ],
                relationships: {
                    strengths: [
                        '忠诚专一',
                        '直接坦诚',
                        '知识渊博',
                        '追求成长'
                    ],
                    challenges: [
                        '情感表达不足',
                        '过于完美主义',
                        '显得高冷',
                        '不够灵活'
                    ],
                    bestMatches: ['ENFP', 'ENTP', 'INFP', 'INFJ']
                },
                careers: [
                    '战略分析师',
                    '科学家',
                    '工程师',
                    '建筑师',
                    '数据科学家',
                    '法律顾问',
                    '投资分析师',
                    '系统设计师'
                ]
            }
            // ... 其他类型数据
        };

        // 页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 绑定开始测试按钮事件
            const startTestButton = document.getElementById('startTest');
            if (startTestButton) {
                startTestButton.addEventListener('click', startTest);
            }

            // 检测是否在本地开发环境
            const isLocalDev = window.location.hostname === '127.0.0.1' || 
                              window.location.hostname === 'localhost';
            
            // 设置链接路径
            const loveMatchPath = isLocalDev ? '/public/love-match/index.html' : '/love-match/';
            
            // 设置导航栏链接
            if (document.getElementById('navLoveMatchLink')) {
                document.getElementById('navLoveMatchLink').href = loveMatchPath;
            }
            
            // 设置 Hero 部分按钮链接
            if (document.getElementById('heroLoveMatchLink')) {
                document.getElementById('heroLoveMatchLink').href = loveMatchPath;
            }
            
            // 设置其他恋爱匹配链接
            document.querySelectorAll('a[href="/love-match/"]').forEach(link => {
                link.href = loveMatchPath;
            });
        });

        function startTest() {
            console.log('Starting test...'); // 调试用
            // 初始化测试
            currentQuestion = 0;
            userAnswers = new Array(questions.length).fill(null);
            const testContainer = document.getElementById('testContainer');
            if (testContainer) {
                testContainer.classList.remove('hidden');
                showQuestion(0);
            } else {
                console.error('Test container not found!'); // 调试用
            }
        }

        function showQuestion(index) {
            const questionNumber = document.getElementById('questionNumber');
            const questionText = document.getElementById('questionText');
            const answerButtons = document.querySelectorAll('.answer-btn');
            
            if (questionNumber && questionText && answerButtons.length === 2) {
                questionNumber.textContent = index + 1;
                questionText.textContent = questions[index].text;
                answerButtons[0].textContent = questions[index].options[0];
                answerButtons[1].textContent = questions[index].options[1];
                
                // 更新按钮状态
                answerButtons.forEach((button, i) => {
                    button.classList.remove('bg-blue-100', 'border-blue-300');
                    button.setAttribute('aria-checked', 'false');
                    
                    if (userAnswers[index] === i) {
                        button.classList.add('bg-blue-100', 'border-blue-300');
                        button.setAttribute('aria-checked', 'true');
                    }
                    
                    // 重新绑定点击事件
                    button.onclick = () => selectAnswer(i);
                });
            }
        }

        function selectAnswer(answerIndex) {
            userAnswers[currentQuestion] = answerIndex;
            showQuestion(currentQuestion);
            document.getElementById('nextQuestion').disabled = false;
        }

        function closeTest() {
            const testContainer = document.getElementById('testContainer');
            if (testContainer) {
                testContainer.classList.add('hidden');
            }
            currentQuestion = 0;
            userAnswers = new Array(questions.length).fill(null);
        }

        function showTypeDetail(type) {
            console.log('Showing type detail for:', type); // 调试用
            const typeData = mbtiTypes[type];
            if (!typeData) {
                console.error('Type data not found for:', type);
                return;
            }

            // 填充类型详情
            document.getElementById('type-detail-title').textContent = `${type} - ${typeData.title}`;
            document.getElementById('typeSummary').textContent = typeData.summary;

            // 填充特点列表
            const characteristicsList = document.getElementById('characteristicsList');
            characteristicsList.innerHTML = typeData.characteristics.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-blue-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 填充优势列表
            const strengthsList = document.getElementById('strengthsList');
            strengthsList.innerHTML = typeData.relationships.strengths.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 填充挑战列表
            const challengesList = document.getElementById('challengesList');
            challengesList.innerHTML = typeData.relationships.challenges.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-red-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 填充最佳匹配类型
            const bestMatchesList = document.getElementById('bestMatchesList');
            bestMatchesList.innerHTML = typeData.relationships.bestMatches.map(matchType => `
                <span class="inline-block bg-pink-100 text-pink-800 rounded-full px-3 py-1 text-sm font-medium">
                    ${matchType}
                </span>
            `).join('');

            // 填充职业列表
            const careersList = document.getElementById('careersList');
            careersList.innerHTML = typeData.careers.map(item => `
                <li class="flex items-start">
                    <svg class="h-5 w-5 text-green-500 mr-2 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                    </svg>
                    <span>${item}</span>
                </li>
            `).join('');

            // 显示类型详情容器
            document.getElementById('typeDetailContainer').classList.remove('hidden');
        }

        function closeTypeDetail() {
            document.getElementById('typeDetailContainer').classList.add('hidden');
        }
    </script>
<div style="display: none;">
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SFKG3PGVN4"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SFKG3PGVN4');
</script>
</div>
</body>
</html>
